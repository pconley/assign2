<h2>Customers</h2>

<div ng-include="'core/_alerts.html'"></div>

<div class="row">
Search: <input ng-model="query">
</div>

<pagination total-items="filteredCustomersCount" 
	ng-show="pageCount > 1"
	ng-model="currentPage" items-per-page="numPerPage" 
	ng-change="pageChanged()"></pagination>
	
<pre>total={{totalCustomersCount}} filtered={{filteredCustomers.length}} 
	perPage={{numPerPage}} pageCount={{pageCount}}
	sortType={{sortType}} sortReverse={{sortReverse}}
</pre>

<table class="table table-striped">  <thead>
    <tr>
      <th><a ng-click="setOrder('contact_name');">Contact 
		<span ng-show="sortType == 'contact_name' && !sortReverse" class="fa fa-caret-down"></span>
        <span ng-show="sortType == 'contact_name' &&  sortReverse" class="fa fa-caret-up"></span>
	  </th>
      <th><a ng-click="setOrder('jobs');">Jobs 
		<span ng-show="sortType == 'jobs' && !sortReverse" class="fa fa-caret-down"></span>
        <span ng-show="sortType == 'jobs' &&  sortReverse" class="fa fa-caret-up"></span>
	  </th>
      <th><a ng-click="setOrder('company_name')">Company 
		<span ng-show="sortType == 'company_name' && !sortReverse" class="fa fa-caret-down"></span>
        <span ng-show="sortType == 'company_name' &&  sortReverse" class="fa fa-caret-up"></span>
	  </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
	<div class="row">
    <tr ng-repeat="customer in pagedCustomers" >
		<td>{{customer.contact_name}}</td>
		<td>0</td>
		<td><a ng-href="#/customers/{{customer.id}}">{{customer.company_name}}&nbsp;&nbsp;&nbsp;<i class="fa fa-pencil-square-o"></i></a></td>
        <td><a class="btn btn-danger" ng-click="deleteCustomer(customer)">
			<i class="fa fa-trash-o"></i> 
			<span ng-show='desktop'>Delete</span></a>
		</td>
    </tr>
  </tbody>
</table>

<button class="btn btn-default" ng-click="openAddCustomer()">Open Add Customer Modal</button>
