<table st-table="displayedCollection" st-safe-src="rowsCollection" class="table table-striped">
<thead>
	<tr>
		<th colspan="20"><input st-search="" class="input-sm form-control" placeholder="customer filter ..." type="text"/></th>
	</tr>
    <tr>
	  <th />
      <th st-sort="company_name" st-skip-natural="true">Company</th>
      <th st-sort="contact_name" st-skip-natural="true">Contact</th>
      <th><a ng-click="openAddCustomer()" tooltip-placement="left" tooltip="Create new customer user" >
		<i class="fa fa-plus" style="color:green"></i></a></th>  
    </tr>
</thead>
<tbody>
	<div class="row">
	<tr ng-repeat-start="row in displayedCollection">
		<td>
			<a ng-click="toggleDetails(row)">
				<i ng-hide='row.showDetails' class="fa fa-chevron-right"></i>
				<i ng-show='row.showDetails'class="fa fa-chevron-down"></i>
			</a>
		</td>
		<td>{{row.company_name}}</td>
		<td>{{row.contact_name}}</td>
        <td>
			<a ng-click="openEditCustomer(row)" tooltip="Click to edit">
				<i class="fa fa-pencil-square-o"></i></a>
			<a ng-click="deleteResource(row)" tooltip="Delete customer" tooltip-class="red-tooltip">
				<i class="fa fa-trash-o" style="color:red"></i></a>
		</td>
    </tr>
	<tr ng-show='row.showDetails'>
		<td></td>
		<td>{{row.contact.email}}</td>
		<td>{{row.contact.phone}}</td>
	</tr>
	<tr ng-repeat-end ng-show='row.showDetails'>
		<td></td>
		<td>Billing: {{row.billing.email}}</td>
		<td>{{row.billing.rate}}</td>
	</tr>
</tbody>
<tfoot>
	<tr>
		<td colspan="5" class="text-center">
			<div st-pagination="" st-items-by-page="4" st-displayed-pages="10"></div>
		</td>
	</tr>
</tfoot>
</table>
